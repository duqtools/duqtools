# The `duqtools` config file

UQ run settings are configured using a yaml configuration file in the project directory. By default it is named `duqtools.yaml`. You can specify another path for it using the -c/--config option (see `duqtools help` or the [cli](/command-line-interface/)).

As a minimum, this configuration file must define the root workspace and the system to use (see below). All other settings are (in principle) optional.


## Starting from scratch

To help initialize a starting config to modify, you can run [`duqtools init`](/command-line-interface/#init).

Check out the different subpages of this section that explain the different parts of the config.

- [create](config/create)
- [submit](config/submit)
- [status](config/status)
- [workspace](#workspace)
- [system](#defining-the-system)
- [variables](#extra-variables)

### Example config file

Below is an example config file generated by `duqtools init`.

```yaml title="duqtools.yaml"
{!../src/duqtools/data/duqtools.yaml!}
```


## Workspace

{{ schema_WorkDirectoryModel['description'] }}

{% for name, prop in schema_WorkDirectoryModel['properties'].items() %}
`{{ name }}`
: {{ prop['description'] }}
{% endfor %}

For example:

```yaml title="duqtools.yaml"
workspace:
  root: /pfs/work/username/jetto/runs/
```


## Defining the system

Currently there are two systems available. They are distinguished by specifying the `system` field.

```yaml title="duqtools.yaml"
system: jetto
```

### jetto, jetto-duqtools

{{ schema_JettoDuqtoolsSystem['description'] }}

### jetto-pythontools

{{ schema_JettoPythonToolsSystem['description'] }}

### dummy

{{ schema_DummySystem['description'] }}

## Extra variables

Duqtools comes with a list of default [variables](variables/). You can update or add your own variables via the `extra_variables` key in the `duqtools.yaml` file.

### IDS variables

{{ schema_IDSVariableModel['description'] }}

{% for name, prop in schema_IDSVariableModel['properties'].items() %}
`{{ name }}`
: {{ prop['description'] }}
{% endfor %}

### Jetto variables

{{ schema_JettoVariableModel['description'] }}

{% for name, prop in schema_JettoVariableModel['properties'].items() %}
`{{ name }}`
: {{ prop['description'] }}
{% endfor %}

Example:

```yaml title="variables.yaml"
extra_variables:
- name: rho_tor_norm
  ids: core_profiles
  path: profiles_1d/*/grid/rho_tor_norm
  dims: [time, x]
  type: IDS-variable
- name: t_i_average
  ids: core_profiles
  path: profiles_1d/*/t_i_average
  dims: [time, x]
  type: IDS-variable
- name: major_radius
  type: jetto-variable
  lookup:
    name: major_radius
    doc: Reference major radius (R0)
    type: float
    keys:
    - field: EquilEscoRefPanel.refMajorRadius
      file: jetto.jset
    - field: RMJ
      file: jetto.in
      section: NLIST1
```
